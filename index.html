<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ton21 (T21) — Community Token on TON</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #0f172a; color: #f1f5f9; margin: 0; padding: 0; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #1e293b; }
    header h1 { margin: 0; font-size: 1.5em; }
    header img { height: 40px; vertical-align: middle; }
    .lang-switch button { margin-left: 5px; background: #334155; border: none; padding: 5px 10px; color: #fff; cursor: pointer; border-radius: 5px; }
    main { padding: 20px; max-width: 900px; margin: auto; }
    .card { background: #1e293b; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
    .card h2 { margin-top: 0; }
    .button { display: inline-block; margin: 5px 5px 0 0; padding: 10px 15px; background: #3b82f6; color: white; border-radius: 5px; text-decoration: none; transition: background 0.3s; }
    .button:hover { background: #2563eb; }
    .copy-btn { background: #64748b; margin-left: 10px; }
    .copy-btn:hover { background: #475569; }
    form input[type="email"] { padding: 10px; border: none; border-radius: 5px; margin-right: 10px; }
    form button { padding: 10px 15px; border: none; border-radius: 5px; background: #10b981; color: #fff; cursor: pointer; }
    form button:disabled { background: #6b7280; cursor: not-allowed; }
    #formMessage { margin-top: 10px; font-size: 0.9em; }
  </style>
</head>
<body>
<header>
  <h1><img src="t21_logo.png" alt="T21 Logo"> Ton21 (T21)</h1>
  <div class="lang-switch">
    <button onclick="setLang('en')">EN</button>
    <button onclick="setLang('ru')">RU</button>
  </div>
</header>

<main>
  <div class="card">
    <h2 data-i18n="aboutTitle">About</h2>
    <p data-i18n="aboutText">Ton21 (T21) — community-driven token on TON. Utilities: community, games, DeFi growth.</p>
    <p><b>Total supply:</b> 21,000,000<br><b>Decimals:</b> 9</p>
  </div>

  <div class="card">
    <h2 data-i18n="contractTitle">Contract</h2>
    <p><b>Token address (jetton):</b><br>
      <span id="tokenAddress">EQBLgiPMLy982IMGgauqdX0Fe_N01arD-LhlKSfxBd8rzYRG</span>
      <button class="copy-btn" onclick="copyAddress()">Copy</button>
    </p>
    <div class="row">
      <a class="button" href="https://tonviewer.com/jetton/EQBLgiPMLy982IMGgauqdX0Fe_N01arD-LhlKSfxBd8rzYRG" target="_blank" rel="noopener noreferrer">Tonviewer (jetton)</a>
      <a class="button" href="https://tonscan.org/jetton/EQBLgiPMLy982IMGgauqdX0Fe_N01arD-LhlKSfxBd8rzYRG" target="_blank" rel="noopener noreferrer">Tonscan (jetton)</a>
      <a class="button" href="https://tonviewer.com/address/EQBLgiPMLy982IMGgauqdX0Fe_N01arD-LhlKSfxBd8rzYRG" target="_blank" rel="noopener noreferrer">Tonviewer (address)</a>
      <a class="button" href="https://tonscan.org/address/EQBLgiPMLy982IMGgauqdX0Fe_N01arD-LhlKSfxBd8rzYRG" target="_blank" rel="noopener noreferrer">Tonscan (address)</a>
      <a class="button" href="https://dedust.io/swap" target="_blank" rel="noopener noreferrer">Open DeDust</a>
    </div>
  </div>

  <div class="card">
    <h2 data-i18n="linksTitle">Links</h2>
    <a class="button" href="https://t.me/Ton21_Army" target="_blank" rel="noopener noreferrer">Telegram</a>
    <a class="button" href="https://github.com/VLADIMIRVLE/ton21-site" target="_blank" rel="noopener noreferrer">GitHub repo</a>
    <a class="button" href="T21_WhitePaper_v2.pdf" target="_blank" rel="noopener noreferrer">WhitePaper (PDF)</a>
  </div>

  <div class="card">
    <h2 data-i18n="roadmapTitle">Roadmap (short)</h2>
    <ul>
      <li data-i18n="road1">Community & content launch</li>
      <li data-i18n="road2">DEX liquidity & early adopters</li>
      <li data-i18n="road3">Mini-apps & game integrations</li>
    </ul>
  </div>

  <div class="card">
    <h2 data-i18n="subscribeTitle">Subscribe for updates</h2>
    <form id="subscribeForm" action="https://formspree.io/f/xwpnaleo" method="POST">
      <input type="email" name="Email" placeholder="Your email" required>
      <input type="text" name="_gotcha" style="display:none">
      <input type="hidden" name="_subject" value="New subscriber to T21 Newsletter">
      <button type="submit" data-i18n="subscribeBtn">Subscribe</button>
      <div id="formMessage"></div>
    </form>
  </div>
</main>

<script>
  const translations = {
    en: {
      aboutTitle: "About",
      aboutText: "Ton21 (T21) — community-driven token on TON. Utilities: community, games, DeFi growth.",
      contractTitle: "Contract",
      linksTitle: "Links",
      roadmapTitle: "Roadmap (short)",
      road1: "Community & content launch",
      road2: "DEX liquidity & early adopters",
      road3: "Mini-apps & game integrations",
      subscribeTitle: "Subscribe for updates",
      subscribeBtn: "Subscribe"
    },
    ru: {
      aboutTitle: "О нас",
      aboutText: "Ton21 (T21) — токен, управляемый сообществом в TON. Утилиты: сообщество, игры, развитие DeFi.",
      contractTitle: "Контракт",
      linksTitle: "Ссылки",
      roadmapTitle: "Дорожная карта (краткая)",
      road1: "Запуск сообщества и контента",
      road2: "Ликвидность DEX и ранние последователи",
      road3: "Интеграция мини-приложений и игр",
      subscribeTitle: "Подписка на обновления",
      subscribeBtn: "Подписаться"
    }
  };

  function setLang(lang) {
    document.querySelectorAll("[data-i18n]").forEach(el => {
      el.innerText = translations[lang][el.getAttribute("data-i18n")];
    });
  }

  function copyAddress() {
    const addr = document.getElementById("tokenAddress").innerText;
    navigator.clipboard.writeText(addr).then(() => {
      alert("Copied: " + addr);
    });
  }

  // подписка с сообщением
  const form = document.getElementById("subscribeForm");
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const btn = form.querySelector("button");
    const msg = document.getElementById("formMessage");
    btn.disabled = true;
    msg.textContent = "Sending...";
    try {
      const res = await fetch(form.action, { method: "POST", body: new FormData(form) });
      if (res.ok) {
        msg.textContent = "✅ Thank you! Subscribed.";
        form.reset();
      } else {
        msg.textContent = "❌ Error. Try again.";
      }
    } catch {
      msg.textContent = "❌ Network error.";
    }
    btn.disabled = false;
  });
</script>
</body>
</html>
